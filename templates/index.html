<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login | R3 Viagens</title>
    <link
      rel="icon"
      href="{{ url_for('static', filename='assets/icone.png') }}"
      type="image/png"
    />

    <!-- Fonte Saira -->
    <link
      href="https://fonts.googleapis.com/css2?family=Saira:wght@400;600;700&display=swap"
      rel="stylesheet"
    />

    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Saira", sans-serif;
      }
      body {
        display: flex;
        height: 100vh;
        background-color: #f8f8f8;
      }

      /* ===== ESQUERDA ===== */
      .left-side {
        flex: 1;
        position: relative;
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
        padding: 80px;
        color: #fff;
        overflow: hidden;
      }
      .left-side::before {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(
            0deg,
            #00245a -40.91%,
            #aa1d21 3.06%,
            rgba(96, 16, 19, 0.57) 44.79%,
            rgba(0, 0, 0, 0) 99.42%
          ),
          url('{{ url_for("static", filename="assets/login_bg.jpg") }}')
            center/cover no-repeat;
        z-index: -2;
      }
      .logo-glow {
        position: absolute;
        width: 550px;
        height: 551px;
        background: #00245a;
        border-radius: 9999px;
        filter: blur(180px);
        top: 500px;
        right: 500px;
        z-index: -1;
      }
      .left-side img {
        width: 130px;
        margin-bottom: 30px;
        z-index: 1;
      }
      .left-side h1 {
        font-family: "Saira", sans-serif;
        font-size: 35px;
        font-weight: 700;
        line-height: 45px;
        letter-spacing: -0.96px;
        color: #fff;
        max-width: 100%;
        z-index: 1;
      }

      /* ===== DIREITA / FORM ===== */
      .right-side {
        flex: 1;
        background: #fff;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 40px;
      }
      .login-container {
        width: 100%;
        max-width: 380px;
      }

      .login-container h2 {
        font-family: "Saira", sans-serif;
        font-size: 36px;
        font-weight: 700;
        color: #333333;
        line-height: normal;
        margin-bottom: 40px;
      }

      label {
        display: block;
        font-size: 15px;
        color: #666;
        margin-bottom: 6px;
      }
      .input-group {
        position: relative;
        margin-bottom: 25px;
      }
      .input-group .input-icon {
        position: absolute;
        left: 10px;
        top: 50%;
        transform: translateY(-50%);
        pointer-events: none;
      }
      .input-group input {
        width: 100%;
        padding: 12px 52px 12px 45px;
        border: 1px solid #ccc;
        border-radius: 8px;
        outline: none;
        font-size: 15px;
        color: #333;
      }

      /* Botão olho (toggle) */
      .password-toggle {
        position: absolute;
        right: 10px;
        top: 50%;
        transform: translateY(-50%);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 32px;
        height: 32px;
        background: transparent;
        border: 0;
        padding: 0;
      }
      .password-toggle svg {
        display: block;
      }
      .password-toggle .eye-closed {
        display: none;
      }
      .password-toggle.password-visible .eye-open {
        display: none;
      }
      .password-toggle.password-visible .eye-closed {
        display: block;
      }

      .options {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        margin-bottom: 25px;
      }
      .forgot-password {
        font-family: "Saira", sans-serif;
        font-size: 16px;
        font-weight: 400;
        color: #333333;
        text-decoration-line: underline;
        text-decoration-style: solid;
        text-decoration-skip-ink: none;
        text-underline-offset: auto;
        text-underline-position: from-font;
        transition: color 0.2s ease;
      }
      .forgot-password:hover {
        color: #aa1d21;
      }

      /* ===== BOTÃO ENTRAR ===== */
      .btn-login {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 8px;
        width: 100%;
        max-width: 444px;
        height: 64px;
        background: #aa1d21;
        border: none;
        border-radius: 100px;
        color: white;
        font-family: "Saira", sans-serif;
        font-size: 20px;
        font-weight: 700;
        cursor: pointer;
        transition: background-color 0.3s ease, transform 0.1s ease;
      }
      .btn-login:hover {
        background-color: #8d1212;
        transform: translateY(-1px);
      }
      .btn-login svg {
        flex-shrink: 0;
      }

      /* ===== TABLET ===== */
      @media (min-width: 768px) and (max-width: 1024px) {
        body {
          flex-direction: row;
          height: 100vh;
        }
        .left-side {
          flex: 0.9;
          padding: 60px 50px;
          justify-content: center;
          align-items: flex-start;
        }
        .left-side img {
          width: 100px;
          margin-bottom: 25px;
        }
        .left-side h1 {
          font-size: 32px;
          line-height: 36px;
          max-width: 80%;
        }
        .logo-glow {
          width: 620px;
          height: 800px;
          filter: blur(250px);
          top: 400px;
          right: 60px;
        }
        .right-side {
          flex: 1.1;
          padding: 40px;
        }
        .login-container {
          max-width: 340px;
        }
        .login-container h2 {
          font-size: 28px;
          margin-bottom: 30px;
        }
        .btn-login {
          padding: 12px;
          font-size: 15px;
        }
      }

      /* ===== MOBILE ===== */
      @media (max-width: 767px) {
        body {
          flex-direction: column;
        }
        .left-side {
          height: 40vh;
          padding: 40px;
          justify-content: flex-end;
          text-align: center;
        }
        .right-side {
          height: 60vh;
          padding: 20px;
        }
        .logo-glow {
          width: 350px;
          height: 320px;
          filter: blur(130px);
          top: 180px;
          left: 50%;
          transform: translateX(-50%);
        }
        .left-side h1 {
          font-size: 28px;
          line-height: 32px;
          max-width: 100%;
        }
        .login-container h2 {
          font-size: 26px;
        }
      }
    </style>
  </head>
  <body>
    <!-- ESQUERDA -->
    <div class="left-side">
      <div class="logo-glow"></div>
      <img
        src="{{ url_for('static', filename='assets/logo_r3.png') }}"
        alt="Logo R3 Viagens"
      />

      <h1>Aqui, tecnologia e atendimento andam juntos!</h1>
    </div>

    <!-- DIREITA -->
    <div class="right-side">
      <div class="login-container">
        <h2>Entre na sua conta</h2>

        <form action="{{ url_for('login') }}" method="POST" autocomplete="on">
          <!-- Usuário -->
          <label for="usuario">Usuário</label>
          <div class="input-group">
            <!-- Ícone usuário -->
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="input-icon"
              width="20"
              height="20"
              viewBox="0 0 28 28"
              fill="none"
            >
              <g clip-path="url(#clip0_1_141)">
                <path
                  d="M14 17.5C17.866 17.5 21 14.366 21 10.5C21 6.63401 17.866 3.5 14 3.5C10.134 3.5 7 6.63401 7 10.5C7 14.366 10.134 17.5 14 17.5Z"
                  stroke="#AA1D21"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M3.5 23.625C5.61859 19.9642 9.46641 17.5 14 17.5C18.5336 17.5 22.3814 19.9642 24.5 23.625"
                  stroke="#AA1D21"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </g>
              <defs>
                <clipPath id="clip0_1_141">
                  <rect width="28" height="28" fill="white" />
                </clipPath>
              </defs>
            </svg>
            <input
              type="text"
              id="usuario"
              name="username"
              autocomplete="username"
              placeholder="Digite seu usuário"
              required
            />
          </div>

          <!-- Senha -->
          <label for="senha">Senha</label>
          <div class="input-group">
            <!-- Ícone cadeado -->
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="input-icon"
              width="20"
              height="20"
              viewBox="0 0 28 28"
              fill="none"
            >
              <rect
                x="5"
                y="12"
                width="18"
                height="13"
                rx="2"
                stroke="#AA1D21"
                stroke-width="2"
              />
              <path
                d="M9 12V8C9 5.23858 11.2386 3 14 3C16.7614 3 19 5.23858 19 8V12"
                stroke="#AA1D21"
                stroke-width="2"
                stroke-linecap="round"
              />
            </svg>

            <input
              type="password"
              id="senha"
              name="password"
              autocomplete="current-password"
              placeholder="Digite sua senha"
              required
            />
            <!-- Toggle olho -->
            <button
              type="button"
              class="password-toggle"
              id="toggleEye"
              aria-label="Mostrar senha"
              aria-pressed="false"
            >
              <!-- Olho ABERTO -->
              <svg
                class="eye-open"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 32 32"
                fill="none"
              >
                <path
                  d="M16 7C6 7 2 16 2 16C2 16 6 25 16 25C26 25 30 16 30 16C30 16 26 7 16 7Z"
                  stroke="#BCBCBC"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M16 21C18.7614 21 21 18.7614 21 16C21 13.2386 18.7614 11 16 11C13.2386 11 11 13.2386 11 16C11 18.7614 13.2386 21 16 21Z"
                  stroke="#BCBCBC"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>

              <!-- Olho FECHADO -->
              <svg
                class="eye-closed"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 32 32"
                fill="none"
              >
                <path
                  d="M6 5L26 27"
                  stroke="#BCBCBC"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M19.3637 19.7C18.3824 20.5921 17.0869 21.0579 15.7622 20.9948C14.4375 20.9318 13.1921 20.345 12.3 19.3637C11.4079 18.3824 10.9421 17.0869 11.0052 15.7622C11.0682 14.4375 11.6549 13.1921 12.6362 12.3"
                  stroke="#BCBCBC"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M26.0763 21.1375C28.8013 18.6975 30 16 30 16C30 16 26 7 16 7C15.1341 6.99883 14.2695 7.06907 13.415 7.21001"
                  stroke="#BCBCBC"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </button>
          </div>

          {% if erro %}
          <div
            style="
              width: 100%;
              max-width: 480px;
              height: 39px;
              display: flex;
              align-items: center;
              gap: 8px;
              outline-offset: -0.75px;
              padding: 0 12px;
              color: #e20f13;
              font-family: 'Poppins', sans-serif;
              font-size: 16px;
              font-style: italic;
              font-weight: 400;
              line-height: 19.2px;
              background-color: #ffffff;
              border-radius: 6px;
              margin-bottom: 20px;
            "
          >
            <!-- Ícone de alerta -->
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="30"
              height="30"
              viewBox="0 0 20 20"
              fill="none"
            >
              <g clip-path="url(#clip0_1_213)">
                <path
                  d="M10 17.5C14.1421 17.5 17.5 14.1421 17.5 10C17.5 5.85786 14.1421 2.5 10 2.5C5.85786 2.5 2.5 5.85786 2.5 10C2.5 14.1421 5.85786 17.5 10 17.5Z"
                  stroke="#E20F13"
                  stroke-width="1.5"
                  stroke-miterlimit="10"
                />
                <path
                  d="M10 10.625V6.25"
                  stroke="#E20F13"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M10 14.375C10.5178 14.375 10.9375 13.9553 10.9375 13.4375C10.9375 12.9197 10.5178 12.5 10 12.5C9.48223 12.5 9.0625 12.9197 9.0625 13.4375C9.0625 13.9553 9.48223 14.375 10 14.375Z"
                  fill="#E20F13"
                />
              </g>
              <defs>
                <clipPath id="clip0_1_213">
                  <rect width="80" height="80" fill="white" />
                </clipPath>
              </defs>
            </svg>

            <!-- Texto -->
            Usuário ou senha incorretos, por favor, revise e tente novamente!
          </div>
          {% endif %}

          <div class="options">
            <a href="{{ url_for('lost_password') }}" class="forgot-password"
              >Esqueci minha senha</a
            >
          </div>

          <!-- Botão Entrar -->
          <button type="submit" class="btn-login">
            <span>Entrar</span>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
            >
              <path
                d="M11 7L9.6 8.4L12.2 11H2V13H12.2L9.6 15.6L11 17L16 12L11 7ZM20 19H12V21H20C21.1 21 22 20.1 22 19V5C22 3.9 21.1 3 20 3H12V5H20V19Z"
                fill="white"
              />
            </svg>
          </button>
        </form>
      </div>
    </div>

    <!-- Icone do olho -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const inputSenha = document.getElementById("senha");
        const btnToggle = document.getElementById("toggleEye");

        function togglePassword() {
          const isHidden = inputSenha.type === "password";
          inputSenha.type = isHidden ? "text" : "password";
          btnToggle.classList.toggle("password-visible", isHidden);
          btnToggle.setAttribute(
            "aria-label",
            isHidden ? "Ocultar senha" : "Mostrar senha"
          );
          btnToggle.setAttribute("aria-pressed", String(isHidden));
        }

        btnToggle.addEventListener("click", togglePassword);
        btnToggle.addEventListener("keydown", (e) => {
          if (e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            togglePassword();
          }
        });
      });
    </script>
  </body>
</html>
